{"ast":null,"code":"import when from \"../ThirdParty/when.js\";\nimport Check from \"./Check.js\";\nimport defaultValue from \"./defaultValue.js\";\nimport defined from \"./defined.js\";\nimport Resource from \"./Resource.js\";\n/**\n * @private\n */\n\nfunction loadImageFromTypedArray(options) {\n  var uint8Array = options.uint8Array;\n  var format = options.format;\n  var request = options.request;\n  var flipY = defaultValue(options.flipY, false); //>>includeStart('debug', pragmas.debug);\n\n  Check.typeOf.object(\"uint8Array\", uint8Array);\n  Check.typeOf.string(\"format\", format); //>>includeEnd('debug');\n\n  var blob = new Blob([uint8Array], {\n    type: format\n  });\n  var blobUrl;\n  return Resource.supportsImageBitmapOptions().then(function (result) {\n    if (result) {\n      return when(Resource.createImageBitmapFromBlob(blob, {\n        flipY: flipY,\n        premultiplyAlpha: false\n      }));\n    }\n\n    blobUrl = window.URL.createObjectURL(blob);\n    var resource = new Resource({\n      url: blobUrl,\n      request: request\n    });\n    return resource.fetchImage({\n      flipY: flipY\n    });\n  }).then(function (result) {\n    if (defined(blobUrl)) {\n      window.URL.revokeObjectURL(blobUrl);\n    }\n\n    return result;\n  }).otherwise(function (error) {\n    if (defined(blobUrl)) {\n      window.URL.revokeObjectURL(blobUrl);\n    }\n\n    return when.reject(error);\n  });\n}\n\nexport default loadImageFromTypedArray;","map":{"version":3,"sources":["C:/Users/passa/Desktop/WaterDeployTrial/node_modules/cesium/Source/Core/loadImageFromTypedArray.js"],"names":["when","Check","defaultValue","defined","Resource","loadImageFromTypedArray","options","uint8Array","format","request","flipY","typeOf","object","string","blob","Blob","type","blobUrl","supportsImageBitmapOptions","then","result","createImageBitmapFromBlob","premultiplyAlpha","window","URL","createObjectURL","resource","url","fetchImage","revokeObjectURL","otherwise","error","reject"],"mappings":"AAAA,OAAOA,IAAP,MAAiB,uBAAjB;AACA,OAAOC,KAAP,MAAkB,YAAlB;AACA,OAAOC,YAAP,MAAyB,mBAAzB;AACA,OAAOC,OAAP,MAAoB,cAApB;AACA,OAAOC,QAAP,MAAqB,eAArB;AAEA;;;;AAGA,SAASC,uBAAT,CAAiCC,OAAjC,EAA0C;AACxC,MAAIC,UAAU,GAAGD,OAAO,CAACC,UAAzB;AACA,MAAIC,MAAM,GAAGF,OAAO,CAACE,MAArB;AACA,MAAIC,OAAO,GAAGH,OAAO,CAACG,OAAtB;AACA,MAAIC,KAAK,GAAGR,YAAY,CAACI,OAAO,CAACI,KAAT,EAAgB,KAAhB,CAAxB,CAJwC,CAKxC;;AACAT,EAAAA,KAAK,CAACU,MAAN,CAAaC,MAAb,CAAoB,YAApB,EAAkCL,UAAlC;AACAN,EAAAA,KAAK,CAACU,MAAN,CAAaE,MAAb,CAAoB,QAApB,EAA8BL,MAA9B,EAPwC,CAQxC;;AAEA,MAAIM,IAAI,GAAG,IAAIC,IAAJ,CAAS,CAACR,UAAD,CAAT,EAAuB;AAChCS,IAAAA,IAAI,EAAER;AAD0B,GAAvB,CAAX;AAIA,MAAIS,OAAJ;AACA,SAAOb,QAAQ,CAACc,0BAAT,GACJC,IADI,CACC,UAAUC,MAAV,EAAkB;AACtB,QAAIA,MAAJ,EAAY;AACV,aAAOpB,IAAI,CACTI,QAAQ,CAACiB,yBAAT,CAAmCP,IAAnC,EAAyC;AACvCJ,QAAAA,KAAK,EAAEA,KADgC;AAEvCY,QAAAA,gBAAgB,EAAE;AAFqB,OAAzC,CADS,CAAX;AAMD;;AAEDL,IAAAA,OAAO,GAAGM,MAAM,CAACC,GAAP,CAAWC,eAAX,CAA2BX,IAA3B,CAAV;AACA,QAAIY,QAAQ,GAAG,IAAItB,QAAJ,CAAa;AAC1BuB,MAAAA,GAAG,EAAEV,OADqB;AAE1BR,MAAAA,OAAO,EAAEA;AAFiB,KAAb,CAAf;AAKA,WAAOiB,QAAQ,CAACE,UAAT,CAAoB;AACzBlB,MAAAA,KAAK,EAAEA;AADkB,KAApB,CAAP;AAGD,GApBI,EAqBJS,IArBI,CAqBC,UAAUC,MAAV,EAAkB;AACtB,QAAIjB,OAAO,CAACc,OAAD,CAAX,EAAsB;AACpBM,MAAAA,MAAM,CAACC,GAAP,CAAWK,eAAX,CAA2BZ,OAA3B;AACD;;AACD,WAAOG,MAAP;AACD,GA1BI,EA2BJU,SA3BI,CA2BM,UAAUC,KAAV,EAAiB;AAC1B,QAAI5B,OAAO,CAACc,OAAD,CAAX,EAAsB;AACpBM,MAAAA,MAAM,CAACC,GAAP,CAAWK,eAAX,CAA2BZ,OAA3B;AACD;;AACD,WAAOjB,IAAI,CAACgC,MAAL,CAAYD,KAAZ,CAAP;AACD,GAhCI,CAAP;AAiCD;;AACD,eAAe1B,uBAAf","sourcesContent":["import when from \"../ThirdParty/when.js\";\nimport Check from \"./Check.js\";\nimport defaultValue from \"./defaultValue.js\";\nimport defined from \"./defined.js\";\nimport Resource from \"./Resource.js\";\n\n/**\n * @private\n */\nfunction loadImageFromTypedArray(options) {\n  var uint8Array = options.uint8Array;\n  var format = options.format;\n  var request = options.request;\n  var flipY = defaultValue(options.flipY, false);\n  //>>includeStart('debug', pragmas.debug);\n  Check.typeOf.object(\"uint8Array\", uint8Array);\n  Check.typeOf.string(\"format\", format);\n  //>>includeEnd('debug');\n\n  var blob = new Blob([uint8Array], {\n    type: format,\n  });\n\n  var blobUrl;\n  return Resource.supportsImageBitmapOptions()\n    .then(function (result) {\n      if (result) {\n        return when(\n          Resource.createImageBitmapFromBlob(blob, {\n            flipY: flipY,\n            premultiplyAlpha: false,\n          })\n        );\n      }\n\n      blobUrl = window.URL.createObjectURL(blob);\n      var resource = new Resource({\n        url: blobUrl,\n        request: request,\n      });\n\n      return resource.fetchImage({\n        flipY: flipY,\n      });\n    })\n    .then(function (result) {\n      if (defined(blobUrl)) {\n        window.URL.revokeObjectURL(blobUrl);\n      }\n      return result;\n    })\n    .otherwise(function (error) {\n      if (defined(blobUrl)) {\n        window.URL.revokeObjectURL(blobUrl);\n      }\n      return when.reject(error);\n    });\n}\nexport default loadImageFromTypedArray;\n"]},"metadata":{},"sourceType":"module"}