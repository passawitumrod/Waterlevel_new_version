{"ast":null,"code":"import ComponentDatatype from \"../Core/ComponentDatatype.js\";\nimport defaultValue from \"../Core/defaultValue.js\";\nimport defined from \"../Core/defined.js\";\n/**\n * @private\n */\n\nfunction Cesium3DTileFeatureTable(featureTableJson, featureTableBinary) {\n  this.json = featureTableJson;\n  this.buffer = featureTableBinary;\n  this._cachedTypedArrays = {};\n  this.featuresLength = 0;\n}\n\nfunction getTypedArrayFromBinary(featureTable, semantic, componentType, componentLength, count, byteOffset) {\n  var cachedTypedArrays = featureTable._cachedTypedArrays;\n  var typedArray = cachedTypedArrays[semantic];\n\n  if (!defined(typedArray)) {\n    typedArray = ComponentDatatype.createArrayBufferView(componentType, featureTable.buffer.buffer, featureTable.buffer.byteOffset + byteOffset, count * componentLength);\n    cachedTypedArrays[semantic] = typedArray;\n  }\n\n  return typedArray;\n}\n\nfunction getTypedArrayFromArray(featureTable, semantic, componentType, array) {\n  var cachedTypedArrays = featureTable._cachedTypedArrays;\n  var typedArray = cachedTypedArrays[semantic];\n\n  if (!defined(typedArray)) {\n    typedArray = ComponentDatatype.createTypedArray(componentType, array);\n    cachedTypedArrays[semantic] = typedArray;\n  }\n\n  return typedArray;\n}\n\nCesium3DTileFeatureTable.prototype.getGlobalProperty = function (semantic, componentType, componentLength) {\n  var jsonValue = this.json[semantic];\n\n  if (!defined(jsonValue)) {\n    return undefined;\n  }\n\n  if (defined(jsonValue.byteOffset)) {\n    componentType = defaultValue(componentType, ComponentDatatype.UNSIGNED_INT);\n    componentLength = defaultValue(componentLength, 1);\n    return getTypedArrayFromBinary(this, semantic, componentType, componentLength, 1, jsonValue.byteOffset);\n  }\n\n  return jsonValue;\n};\n\nCesium3DTileFeatureTable.prototype.getPropertyArray = function (semantic, componentType, componentLength) {\n  var jsonValue = this.json[semantic];\n\n  if (!defined(jsonValue)) {\n    return undefined;\n  }\n\n  if (defined(jsonValue.byteOffset)) {\n    if (defined(jsonValue.componentType)) {\n      componentType = ComponentDatatype.fromName(jsonValue.componentType);\n    }\n\n    return getTypedArrayFromBinary(this, semantic, componentType, componentLength, this.featuresLength, jsonValue.byteOffset);\n  }\n\n  return getTypedArrayFromArray(this, semantic, componentType, jsonValue);\n};\n\nCesium3DTileFeatureTable.prototype.getProperty = function (semantic, componentType, componentLength, featureId, result) {\n  var jsonValue = this.json[semantic];\n\n  if (!defined(jsonValue)) {\n    return undefined;\n  }\n\n  var typedArray = this.getPropertyArray(semantic, componentType, componentLength);\n\n  if (componentLength === 1) {\n    return typedArray[featureId];\n  }\n\n  for (var i = 0; i < componentLength; ++i) {\n    result[i] = typedArray[componentLength * featureId + i];\n  }\n\n  return result;\n};\n\nexport default Cesium3DTileFeatureTable;","map":{"version":3,"sources":["C:/Users/passa/Desktop/WaterDeployTrial/node_modules/cesium/Source/Scene/Cesium3DTileFeatureTable.js"],"names":["ComponentDatatype","defaultValue","defined","Cesium3DTileFeatureTable","featureTableJson","featureTableBinary","json","buffer","_cachedTypedArrays","featuresLength","getTypedArrayFromBinary","featureTable","semantic","componentType","componentLength","count","byteOffset","cachedTypedArrays","typedArray","createArrayBufferView","getTypedArrayFromArray","array","createTypedArray","prototype","getGlobalProperty","jsonValue","undefined","UNSIGNED_INT","getPropertyArray","fromName","getProperty","featureId","result","i"],"mappings":"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","sourcesContent":["import ComponentDatatype from \"../Core/ComponentDatatype.js\";\nimport defaultValue from \"../Core/defaultValue.js\";\nimport defined from \"../Core/defined.js\";\n\n/**\n * @private\n */\nfunction Cesium3DTileFeatureTable(featureTableJson, featureTableBinary) {\n  this.json = featureTableJson;\n  this.buffer = featureTableBinary;\n  this._cachedTypedArrays = {};\n  this.featuresLength = 0;\n}\n\nfunction getTypedArrayFromBinary(\n  featureTable,\n  semantic,\n  componentType,\n  componentLength,\n  count,\n  byteOffset\n) {\n  var cachedTypedArrays = featureTable._cachedTypedArrays;\n  var typedArray = cachedTypedArrays[semantic];\n  if (!defined(typedArray)) {\n    typedArray = ComponentDatatype.createArrayBufferView(\n      componentType,\n      featureTable.buffer.buffer,\n      featureTable.buffer.byteOffset + byteOffset,\n      count * componentLength\n    );\n    cachedTypedArrays[semantic] = typedArray;\n  }\n  return typedArray;\n}\n\nfunction getTypedArrayFromArray(featureTable, semantic, componentType, array) {\n  var cachedTypedArrays = featureTable._cachedTypedArrays;\n  var typedArray = cachedTypedArrays[semantic];\n  if (!defined(typedArray)) {\n    typedArray = ComponentDatatype.createTypedArray(componentType, array);\n    cachedTypedArrays[semantic] = typedArray;\n  }\n  return typedArray;\n}\n\nCesium3DTileFeatureTable.prototype.getGlobalProperty = function (\n  semantic,\n  componentType,\n  componentLength\n) {\n  var jsonValue = this.json[semantic];\n  if (!defined(jsonValue)) {\n    return undefined;\n  }\n\n  if (defined(jsonValue.byteOffset)) {\n    componentType = defaultValue(componentType, ComponentDatatype.UNSIGNED_INT);\n    componentLength = defaultValue(componentLength, 1);\n    return getTypedArrayFromBinary(\n      this,\n      semantic,\n      componentType,\n      componentLength,\n      1,\n      jsonValue.byteOffset\n    );\n  }\n\n  return jsonValue;\n};\n\nCesium3DTileFeatureTable.prototype.getPropertyArray = function (\n  semantic,\n  componentType,\n  componentLength\n) {\n  var jsonValue = this.json[semantic];\n  if (!defined(jsonValue)) {\n    return undefined;\n  }\n\n  if (defined(jsonValue.byteOffset)) {\n    if (defined(jsonValue.componentType)) {\n      componentType = ComponentDatatype.fromName(jsonValue.componentType);\n    }\n    return getTypedArrayFromBinary(\n      this,\n      semantic,\n      componentType,\n      componentLength,\n      this.featuresLength,\n      jsonValue.byteOffset\n    );\n  }\n\n  return getTypedArrayFromArray(this, semantic, componentType, jsonValue);\n};\n\nCesium3DTileFeatureTable.prototype.getProperty = function (\n  semantic,\n  componentType,\n  componentLength,\n  featureId,\n  result\n) {\n  var jsonValue = this.json[semantic];\n  if (!defined(jsonValue)) {\n    return undefined;\n  }\n\n  var typedArray = this.getPropertyArray(\n    semantic,\n    componentType,\n    componentLength\n  );\n\n  if (componentLength === 1) {\n    return typedArray[featureId];\n  }\n\n  for (var i = 0; i < componentLength; ++i) {\n    result[i] = typedArray[componentLength * featureId + i];\n  }\n\n  return result;\n};\nexport default Cesium3DTileFeatureTable;\n"]},"metadata":{},"sourceType":"module"}