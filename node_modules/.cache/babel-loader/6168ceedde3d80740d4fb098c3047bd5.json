{"ast":null,"code":"import hasExtension from './hasExtension.js';\nimport defined from '../../Core/defined.js';\n/**\n * Contains traversal functions for processing elements of the glTF hierarchy.\n * @constructor\n *\n * @private\n */\n\nfunction ForEach() {}\n/**\n * Fallback for glTF 1.0\n * @private\n */\n\n\nForEach.objectLegacy = function (objects, handler) {\n  if (defined(objects)) {\n    for (var objectId in objects) {\n      if (Object.prototype.hasOwnProperty.call(objects, objectId)) {\n        var object = objects[objectId];\n        var value = handler(object, objectId);\n\n        if (defined(value)) {\n          return value;\n        }\n      }\n    }\n  }\n};\n/**\n * @private\n */\n\n\nForEach.object = function (arrayOfObjects, handler) {\n  if (defined(arrayOfObjects)) {\n    var length = arrayOfObjects.length;\n\n    for (var i = 0; i < length; i++) {\n      var object = arrayOfObjects[i];\n      var value = handler(object, i);\n\n      if (defined(value)) {\n        return value;\n      }\n    }\n  }\n};\n/**\n * Supports glTF 1.0 and 2.0\n * @private\n */\n\n\nForEach.topLevel = function (gltf, name, handler) {\n  var gltfProperty = gltf[name];\n\n  if (defined(gltfProperty) && !Array.isArray(gltfProperty)) {\n    return ForEach.objectLegacy(gltfProperty, handler);\n  }\n\n  return ForEach.object(gltfProperty, handler);\n};\n\nForEach.accessor = function (gltf, handler) {\n  return ForEach.topLevel(gltf, 'accessors', handler);\n};\n\nForEach.accessorWithSemantic = function (gltf, semantic, handler) {\n  var visited = {};\n  return ForEach.mesh(gltf, function (mesh) {\n    return ForEach.meshPrimitive(mesh, function (primitive) {\n      var valueForEach = ForEach.meshPrimitiveAttribute(primitive, function (accessorId, attributeSemantic) {\n        if (attributeSemantic.indexOf(semantic) === 0 && !defined(visited[accessorId])) {\n          visited[accessorId] = true;\n          var value = handler(accessorId);\n\n          if (defined(value)) {\n            return value;\n          }\n        }\n      });\n\n      if (defined(valueForEach)) {\n        return valueForEach;\n      }\n\n      return ForEach.meshPrimitiveTarget(primitive, function (target) {\n        return ForEach.meshPrimitiveTargetAttribute(target, function (accessorId, attributeSemantic) {\n          if (attributeSemantic.indexOf(semantic) === 0 && !defined(visited[accessorId])) {\n            visited[accessorId] = true;\n            var value = handler(accessorId);\n\n            if (defined(value)) {\n              return value;\n            }\n          }\n        });\n      });\n    });\n  });\n};\n\nForEach.accessorContainingVertexAttributeData = function (gltf, handler) {\n  var visited = {};\n  return ForEach.mesh(gltf, function (mesh) {\n    return ForEach.meshPrimitive(mesh, function (primitive) {\n      var valueForEach = ForEach.meshPrimitiveAttribute(primitive, function (accessorId) {\n        if (!defined(visited[accessorId])) {\n          visited[accessorId] = true;\n          var value = handler(accessorId);\n\n          if (defined(value)) {\n            return value;\n          }\n        }\n      });\n\n      if (defined(valueForEach)) {\n        return valueForEach;\n      }\n\n      return ForEach.meshPrimitiveTarget(primitive, function (target) {\n        return ForEach.meshPrimitiveTargetAttribute(target, function (accessorId) {\n          if (!defined(visited[accessorId])) {\n            visited[accessorId] = true;\n            var value = handler(accessorId);\n\n            if (defined(value)) {\n              return value;\n            }\n          }\n        });\n      });\n    });\n  });\n};\n\nForEach.accessorContainingIndexData = function (gltf, handler) {\n  var visited = {};\n  return ForEach.mesh(gltf, function (mesh) {\n    return ForEach.meshPrimitive(mesh, function (primitive) {\n      var indices = primitive.indices;\n\n      if (defined(indices) && !defined(visited[indices])) {\n        visited[indices] = true;\n        var value = handler(indices);\n\n        if (defined(value)) {\n          return value;\n        }\n      }\n    });\n  });\n};\n\nForEach.animation = function (gltf, handler) {\n  return ForEach.topLevel(gltf, 'animations', handler);\n};\n\nForEach.animationChannel = function (animation, handler) {\n  var channels = animation.channels;\n  return ForEach.object(channels, handler);\n};\n\nForEach.animationSampler = function (animation, handler) {\n  var samplers = animation.samplers;\n  return ForEach.object(samplers, handler);\n};\n\nForEach.buffer = function (gltf, handler) {\n  return ForEach.topLevel(gltf, 'buffers', handler);\n};\n\nForEach.bufferView = function (gltf, handler) {\n  return ForEach.topLevel(gltf, 'bufferViews', handler);\n};\n\nForEach.camera = function (gltf, handler) {\n  return ForEach.topLevel(gltf, 'cameras', handler);\n};\n\nForEach.image = function (gltf, handler) {\n  return ForEach.topLevel(gltf, 'images', handler);\n};\n\nForEach.compressedImage = function (image, handler) {\n  if (defined(image.extras)) {\n    var compressedImages = image.extras.compressedImage3DTiles;\n\n    for (var type in compressedImages) {\n      if (Object.prototype.hasOwnProperty.call(compressedImages, type)) {\n        var compressedImage = compressedImages[type];\n        var value = handler(compressedImage, type);\n\n        if (defined(value)) {\n          return value;\n        }\n      }\n    }\n  }\n};\n\nForEach.material = function (gltf, handler) {\n  return ForEach.topLevel(gltf, 'materials', handler);\n};\n\nForEach.materialValue = function (material, handler) {\n  var values = material.values;\n\n  if (defined(material.extensions) && defined(material.extensions.KHR_techniques_webgl)) {\n    values = material.extensions.KHR_techniques_webgl.values;\n  }\n\n  for (var name in values) {\n    if (Object.prototype.hasOwnProperty.call(values, name)) {\n      var value = handler(values[name], name);\n\n      if (defined(value)) {\n        return value;\n      }\n    }\n  }\n};\n\nForEach.mesh = function (gltf, handler) {\n  return ForEach.topLevel(gltf, 'meshes', handler);\n};\n\nForEach.meshPrimitive = function (mesh, handler) {\n  var primitives = mesh.primitives;\n\n  if (defined(primitives)) {\n    var primitivesLength = primitives.length;\n\n    for (var i = 0; i < primitivesLength; i++) {\n      var primitive = primitives[i];\n      var value = handler(primitive, i);\n\n      if (defined(value)) {\n        return value;\n      }\n    }\n  }\n};\n\nForEach.meshPrimitiveAttribute = function (primitive, handler) {\n  var attributes = primitive.attributes;\n\n  for (var semantic in attributes) {\n    if (Object.prototype.hasOwnProperty.call(attributes, semantic)) {\n      var value = handler(attributes[semantic], semantic);\n\n      if (defined(value)) {\n        return value;\n      }\n    }\n  }\n};\n\nForEach.meshPrimitiveTarget = function (primitive, handler) {\n  var targets = primitive.targets;\n\n  if (defined(targets)) {\n    var length = targets.length;\n\n    for (var i = 0; i < length; ++i) {\n      var value = handler(targets[i], i);\n\n      if (defined(value)) {\n        return value;\n      }\n    }\n  }\n};\n\nForEach.meshPrimitiveTargetAttribute = function (target, handler) {\n  for (var semantic in target) {\n    if (Object.prototype.hasOwnProperty.call(target, semantic)) {\n      var accessorId = target[semantic];\n      var value = handler(accessorId, semantic);\n\n      if (defined(value)) {\n        return value;\n      }\n    }\n  }\n};\n\nForEach.node = function (gltf, handler) {\n  return ForEach.topLevel(gltf, 'nodes', handler);\n};\n\nForEach.nodeInTree = function (gltf, nodeIds, handler) {\n  var nodes = gltf.nodes;\n\n  if (defined(nodes)) {\n    var length = nodeIds.length;\n\n    for (var i = 0; i < length; i++) {\n      var nodeId = nodeIds[i];\n      var node = nodes[nodeId];\n\n      if (defined(node)) {\n        var value = handler(node, nodeId);\n\n        if (defined(value)) {\n          return value;\n        }\n\n        var children = node.children;\n\n        if (defined(children)) {\n          value = ForEach.nodeInTree(gltf, children, handler);\n\n          if (defined(value)) {\n            return value;\n          }\n        }\n      }\n    }\n  }\n};\n\nForEach.nodeInScene = function (gltf, scene, handler) {\n  var sceneNodeIds = scene.nodes;\n\n  if (defined(sceneNodeIds)) {\n    return ForEach.nodeInTree(gltf, sceneNodeIds, handler);\n  }\n};\n\nForEach.program = function (gltf, handler) {\n  if (hasExtension(gltf, 'KHR_techniques_webgl')) {\n    return ForEach.object(gltf.extensions.KHR_techniques_webgl.programs, handler);\n  }\n\n  return ForEach.topLevel(gltf, 'programs', handler);\n};\n\nForEach.sampler = function (gltf, handler) {\n  return ForEach.topLevel(gltf, 'samplers', handler);\n};\n\nForEach.scene = function (gltf, handler) {\n  return ForEach.topLevel(gltf, 'scenes', handler);\n};\n\nForEach.shader = function (gltf, handler) {\n  if (hasExtension(gltf, 'KHR_techniques_webgl')) {\n    return ForEach.object(gltf.extensions.KHR_techniques_webgl.shaders, handler);\n  }\n\n  return ForEach.topLevel(gltf, 'shaders', handler);\n};\n\nForEach.skin = function (gltf, handler) {\n  return ForEach.topLevel(gltf, 'skins', handler);\n};\n\nForEach.skinJoint = function (skin, handler) {\n  var joints = skin.joints;\n\n  if (defined(joints)) {\n    var jointsLength = joints.length;\n\n    for (var i = 0; i < jointsLength; i++) {\n      var joint = joints[i];\n      var value = handler(joint);\n\n      if (defined(value)) {\n        return value;\n      }\n    }\n  }\n};\n\nForEach.techniqueAttribute = function (technique, handler) {\n  var attributes = technique.attributes;\n\n  for (var attributeName in attributes) {\n    if (Object.prototype.hasOwnProperty.call(attributes, attributeName)) {\n      var value = handler(attributes[attributeName], attributeName);\n\n      if (defined(value)) {\n        return value;\n      }\n    }\n  }\n};\n\nForEach.techniqueUniform = function (technique, handler) {\n  var uniforms = technique.uniforms;\n\n  for (var uniformName in uniforms) {\n    if (Object.prototype.hasOwnProperty.call(uniforms, uniformName)) {\n      var value = handler(uniforms[uniformName], uniformName);\n\n      if (defined(value)) {\n        return value;\n      }\n    }\n  }\n};\n\nForEach.techniqueParameter = function (technique, handler) {\n  var parameters = technique.parameters;\n\n  for (var parameterName in parameters) {\n    if (Object.prototype.hasOwnProperty.call(parameters, parameterName)) {\n      var value = handler(parameters[parameterName], parameterName);\n\n      if (defined(value)) {\n        return value;\n      }\n    }\n  }\n};\n\nForEach.technique = function (gltf, handler) {\n  if (hasExtension(gltf, 'KHR_techniques_webgl')) {\n    return ForEach.object(gltf.extensions.KHR_techniques_webgl.techniques, handler);\n  }\n\n  return ForEach.topLevel(gltf, 'techniques', handler);\n};\n\nForEach.texture = function (gltf, handler) {\n  return ForEach.topLevel(gltf, 'textures', handler);\n};\n\nexport default ForEach;","map":{"version":3,"sources":["C:/Users/passa/Desktop/WaterLevelReact/node_modules/cesium/Source/ThirdParty/GltfPipeline/ForEach.js"],"names":["hasExtension","defined","ForEach","objectLegacy","objects","handler","objectId","Object","prototype","hasOwnProperty","call","object","value","arrayOfObjects","length","i","topLevel","gltf","name","gltfProperty","Array","isArray","accessor","accessorWithSemantic","semantic","visited","mesh","meshPrimitive","primitive","valueForEach","meshPrimitiveAttribute","accessorId","attributeSemantic","indexOf","meshPrimitiveTarget","target","meshPrimitiveTargetAttribute","accessorContainingVertexAttributeData","accessorContainingIndexData","indices","animation","animationChannel","channels","animationSampler","samplers","buffer","bufferView","camera","image","compressedImage","extras","compressedImages","compressedImage3DTiles","type","material","materialValue","values","extensions","KHR_techniques_webgl","primitives","primitivesLength","attributes","targets","node","nodeInTree","nodeIds","nodes","nodeId","children","nodeInScene","scene","sceneNodeIds","program","programs","sampler","shader","shaders","skin","skinJoint","joints","jointsLength","joint","techniqueAttribute","technique","attributeName","techniqueUniform","uniforms","uniformName","techniqueParameter","parameters","parameterName","techniques","texture"],"mappings":"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","sourcesContent":["import hasExtension from './hasExtension.js'\nimport defined from '../../Core/defined.js'\n\n    /**\n     * Contains traversal functions for processing elements of the glTF hierarchy.\n     * @constructor\n     *\n     * @private\n     */\n    function ForEach() {\n    }\n\n    /**\n     * Fallback for glTF 1.0\n     * @private\n     */\n    ForEach.objectLegacy = function(objects, handler) {\n        if (defined(objects)) {\n            for (var objectId in objects) {\n                if (Object.prototype.hasOwnProperty.call(objects, objectId)) {\n                    var object = objects[objectId];\n                    var value = handler(object, objectId);\n\n                    if (defined(value)) {\n                        return value;\n                    }\n                }\n            }\n        }\n    };\n\n    /**\n     * @private\n     */\n    ForEach.object = function(arrayOfObjects, handler) {\n        if (defined(arrayOfObjects)) {\n            var length = arrayOfObjects.length;\n            for (var i = 0; i < length; i++) {\n                var object = arrayOfObjects[i];\n                var value = handler(object, i);\n\n                if (defined(value)) {\n                    return value;\n                }\n            }\n        }\n    };\n\n    /**\n     * Supports glTF 1.0 and 2.0\n     * @private\n     */\n    ForEach.topLevel = function(gltf, name, handler) {\n        var gltfProperty = gltf[name];\n        if (defined(gltfProperty) && !Array.isArray(gltfProperty)) {\n            return ForEach.objectLegacy(gltfProperty, handler);\n        }\n\n        return ForEach.object(gltfProperty, handler);\n    };\n\n    ForEach.accessor = function(gltf, handler) {\n        return ForEach.topLevel(gltf, 'accessors', handler);\n    };\n\n    ForEach.accessorWithSemantic = function(gltf, semantic, handler) {\n        var visited = {};\n        return ForEach.mesh(gltf, function(mesh) {\n            return ForEach.meshPrimitive(mesh, function(primitive) {\n                var valueForEach = ForEach.meshPrimitiveAttribute(primitive, function(accessorId, attributeSemantic) {\n                    if (attributeSemantic.indexOf(semantic) === 0 && !defined(visited[accessorId])) {\n                        visited[accessorId] = true;\n                        var value = handler(accessorId);\n\n                        if (defined(value)) {\n                            return value;\n                        }\n                    }\n                });\n\n                if (defined(valueForEach)) {\n                    return valueForEach;\n                }\n\n                return ForEach.meshPrimitiveTarget(primitive, function(target) {\n                    return ForEach.meshPrimitiveTargetAttribute(target, function(accessorId, attributeSemantic) {\n                        if (attributeSemantic.indexOf(semantic) === 0 && !defined(visited[accessorId])) {\n                            visited[accessorId] = true;\n                            var value = handler(accessorId);\n\n                            if (defined(value)) {\n                                return value;\n                            }\n                        }\n                    });\n                });\n            });\n        });\n    };\n\n    ForEach.accessorContainingVertexAttributeData = function(gltf, handler) {\n        var visited = {};\n        return ForEach.mesh(gltf, function(mesh) {\n            return ForEach.meshPrimitive(mesh, function(primitive) {\n                var valueForEach = ForEach.meshPrimitiveAttribute(primitive, function(accessorId) {\n                    if (!defined(visited[accessorId])) {\n                        visited[accessorId] = true;\n                        var value = handler(accessorId);\n\n                        if (defined(value)) {\n                            return value;\n                        }\n                    }\n                });\n\n                if (defined(valueForEach)) {\n                    return valueForEach;\n                }\n\n                return ForEach.meshPrimitiveTarget(primitive, function(target) {\n                    return ForEach.meshPrimitiveTargetAttribute(target, function(accessorId) {\n                        if (!defined(visited[accessorId])) {\n                            visited[accessorId] = true;\n                            var value = handler(accessorId);\n\n                            if (defined(value)) {\n                                return value;\n                            }\n                        }\n                    });\n                });\n            });\n        });\n    };\n\n    ForEach.accessorContainingIndexData = function(gltf, handler) {\n        var visited = {};\n        return ForEach.mesh(gltf, function(mesh) {\n            return ForEach.meshPrimitive(mesh, function(primitive) {\n                var indices = primitive.indices;\n                if (defined(indices) && !defined(visited[indices])) {\n                    visited[indices] = true;\n                    var value = handler(indices);\n\n                    if (defined(value)) {\n                        return value;\n                    }\n                }\n            });\n        });\n    };\n\n    ForEach.animation = function(gltf, handler) {\n        return ForEach.topLevel(gltf, 'animations', handler);\n    };\n\n    ForEach.animationChannel = function(animation, handler) {\n        var channels = animation.channels;\n        return ForEach.object(channels, handler);\n    };\n\n    ForEach.animationSampler = function(animation, handler) {\n        var samplers = animation.samplers;\n        return ForEach.object(samplers, handler);\n    };\n\n    ForEach.buffer = function(gltf, handler) {\n        return ForEach.topLevel(gltf, 'buffers', handler);\n    };\n\n    ForEach.bufferView = function(gltf, handler) {\n        return ForEach.topLevel(gltf, 'bufferViews', handler);\n    };\n\n    ForEach.camera = function(gltf, handler) {\n        return ForEach.topLevel(gltf, 'cameras', handler);\n    };\n\n    ForEach.image = function(gltf, handler) {\n        return ForEach.topLevel(gltf, 'images', handler);\n    };\n\n    ForEach.compressedImage = function(image, handler) {\n        if (defined(image.extras)) {\n            var compressedImages = image.extras.compressedImage3DTiles;\n            for (var type in compressedImages) {\n                if (Object.prototype.hasOwnProperty.call(compressedImages, type)) {\n                    var compressedImage = compressedImages[type];\n                    var value = handler(compressedImage, type);\n\n                    if (defined(value)) {\n                        return value;\n                    }\n                }\n            }\n        }\n    };\n\n    ForEach.material = function(gltf, handler) {\n        return ForEach.topLevel(gltf, 'materials', handler);\n    };\n\n    ForEach.materialValue = function(material, handler) {\n        var values = material.values;\n        if (defined(material.extensions) && defined(material.extensions.KHR_techniques_webgl)) {\n            values = material.extensions.KHR_techniques_webgl.values;\n        }\n\n        for (var name in values) {\n            if (Object.prototype.hasOwnProperty.call(values, name)) {\n                var value = handler(values[name], name);\n\n                if (defined(value)) {\n                    return value;\n                }\n            }\n        }\n    };\n\n    ForEach.mesh = function(gltf, handler) {\n        return ForEach.topLevel(gltf, 'meshes', handler);\n    };\n\n    ForEach.meshPrimitive = function(mesh, handler) {\n        var primitives = mesh.primitives;\n        if (defined(primitives)) {\n            var primitivesLength = primitives.length;\n            for (var i = 0; i < primitivesLength; i++) {\n                var primitive = primitives[i];\n                var value = handler(primitive, i);\n\n                if (defined(value)) {\n                    return value;\n                }\n            }\n        }\n    };\n\n    ForEach.meshPrimitiveAttribute = function(primitive, handler) {\n        var attributes = primitive.attributes;\n        for (var semantic in attributes) {\n            if (Object.prototype.hasOwnProperty.call(attributes, semantic)) {\n                var value = handler(attributes[semantic], semantic);\n\n                if (defined(value)) {\n                    return value;\n                }\n            }\n        }\n    };\n\n    ForEach.meshPrimitiveTarget = function(primitive, handler) {\n        var targets = primitive.targets;\n        if (defined(targets)) {\n            var length = targets.length;\n            for (var i = 0; i < length; ++i) {\n                var value = handler(targets[i], i);\n\n                if (defined(value)) {\n                    return value;\n                }\n            }\n        }\n    };\n\n    ForEach.meshPrimitiveTargetAttribute = function(target, handler) {\n        for (var semantic in target) {\n            if (Object.prototype.hasOwnProperty.call(target, semantic)) {\n                var accessorId = target[semantic];\n                var value = handler(accessorId, semantic);\n\n                if (defined(value)) {\n                    return value;\n                }\n            }\n        }\n    };\n\n    ForEach.node = function(gltf, handler) {\n        return ForEach.topLevel(gltf, 'nodes', handler);\n    };\n\n    ForEach.nodeInTree = function(gltf, nodeIds, handler) {\n        var nodes = gltf.nodes;\n        if (defined(nodes)) {\n            var length = nodeIds.length;\n            for (var i = 0; i < length; i++) {\n                var nodeId = nodeIds[i];\n                var node = nodes[nodeId];\n                if (defined(node)) {\n                    var value = handler(node, nodeId);\n\n                    if (defined(value)) {\n                        return value;\n                    }\n\n                    var children = node.children;\n                    if (defined(children)) {\n                        value = ForEach.nodeInTree(gltf, children, handler);\n\n                        if (defined(value)) {\n                            return value;\n                        }\n                    }\n                }\n            }\n        }\n    };\n\n    ForEach.nodeInScene = function(gltf, scene, handler) {\n        var sceneNodeIds = scene.nodes;\n        if (defined(sceneNodeIds)) {\n            return ForEach.nodeInTree(gltf, sceneNodeIds, handler);\n        }\n    };\n\n    ForEach.program = function(gltf, handler) {\n        if (hasExtension(gltf, 'KHR_techniques_webgl')) {\n            return ForEach.object(gltf.extensions.KHR_techniques_webgl.programs, handler);\n        }\n\n        return ForEach.topLevel(gltf, 'programs', handler);\n    };\n\n    ForEach.sampler = function(gltf, handler) {\n        return ForEach.topLevel(gltf, 'samplers', handler);\n    };\n\n    ForEach.scene = function(gltf, handler) {\n        return ForEach.topLevel(gltf, 'scenes', handler);\n    };\n\n    ForEach.shader = function(gltf, handler) {\n        if (hasExtension(gltf, 'KHR_techniques_webgl')) {\n            return ForEach.object(gltf.extensions.KHR_techniques_webgl.shaders, handler);\n        }\n\n        return ForEach.topLevel(gltf, 'shaders', handler);\n    };\n\n    ForEach.skin = function(gltf, handler) {\n        return ForEach.topLevel(gltf, 'skins', handler);\n    };\n\n    ForEach.skinJoint = function(skin, handler) {\n        var joints = skin.joints;\n        if (defined(joints)) {\n            var jointsLength = joints.length;\n            for (var i = 0; i < jointsLength; i++) {\n                var joint = joints[i];\n                var value = handler(joint);\n\n                if (defined(value)) {\n                    return value;\n                }\n            }\n        }\n    };\n\n    ForEach.techniqueAttribute = function(technique, handler) {\n        var attributes = technique.attributes;\n        for (var attributeName in attributes) {\n            if (Object.prototype.hasOwnProperty.call(attributes, attributeName)) {\n                var value = handler(attributes[attributeName], attributeName);\n\n                if (defined(value)) {\n                    return value;\n                }\n            }\n        }\n    };\n\n    ForEach.techniqueUniform = function(technique, handler) {\n        var uniforms = technique.uniforms;\n        for (var uniformName in uniforms) {\n            if (Object.prototype.hasOwnProperty.call(uniforms, uniformName)) {\n                var value = handler(uniforms[uniformName], uniformName);\n\n                if (defined(value)) {\n                    return value;\n                }\n            }\n        }\n    };\n\n    ForEach.techniqueParameter = function(technique, handler) {\n        var parameters = technique.parameters;\n        for (var parameterName in parameters) {\n            if (Object.prototype.hasOwnProperty.call(parameters, parameterName)) {\n                var value = handler(parameters[parameterName], parameterName);\n\n                if (defined(value)) {\n                    return value;\n                }\n            }\n        }\n    };\n\n    ForEach.technique = function(gltf, handler) {\n        if (hasExtension(gltf, 'KHR_techniques_webgl')) {\n            return ForEach.object(gltf.extensions.KHR_techniques_webgl.techniques, handler);\n        }\n\n        return ForEach.topLevel(gltf, 'techniques', handler);\n    };\n\n    ForEach.texture = function(gltf, handler) {\n        return ForEach.topLevel(gltf, 'textures', handler);\n    };\n\n    export default ForEach;\n"]},"metadata":{},"sourceType":"module"}