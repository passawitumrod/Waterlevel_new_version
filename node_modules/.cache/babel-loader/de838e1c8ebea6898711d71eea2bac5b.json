{"ast":null,"code":"import defined from \"../../Core/defined.js\";\nimport destroyObject from \"../../Core/destroyObject.js\";\nimport DeveloperError from \"../../Core/DeveloperError.js\";\nimport FeatureDetection from \"../../Core/FeatureDetection.js\";\nimport knockout from \"../../ThirdParty/knockout.js\";\nimport getElement from \"../getElement.js\";\nimport GeocoderViewModel from \"./GeocoderViewModel.js\";\nvar startSearchPath = \"M29.772,26.433l-7.126-7.126c0.96-1.583,1.523-3.435,1.524-5.421C24.169,8.093,19.478,3.401,13.688,3.399C7.897,3.401,3.204,8.093,3.204,13.885c0,5.789,4.693,10.481,10.484,10.481c1.987,0,3.839-0.563,5.422-1.523l7.128,7.127L29.772,26.433zM7.203,13.885c0.006-3.582,2.903-6.478,6.484-6.486c3.579,0.008,6.478,2.904,6.484,6.486c-0.007,3.58-2.905,6.476-6.484,6.484C10.106,20.361,7.209,17.465,7.203,13.885z\";\nvar stopSearchPath = \"M24.778,21.419 19.276,15.917 24.777,10.415 21.949,7.585 16.447,13.087 10.945,7.585 8.117,10.415 13.618,15.917 8.116,21.419 10.946,24.248 16.447,18.746 21.948,24.248z\";\n/**\n * A widget for finding addresses and landmarks, and flying the camera to them.  Geocoding is\n * performed using {@link https://cesium.com/cesium-ion/|Cesium ion}.\n *\n * @alias Geocoder\n * @constructor\n *\n * @param {Object} options Object with the following properties:\n * @param {Element|String} options.container The DOM element or ID that will contain the widget.\n * @param {Scene} options.scene The Scene instance to use.\n * @param {GeocoderService[]} [options.geocoderServices] The geocoder services to be used\n * @param {Boolean} [options.autoComplete = true] True if the geocoder should query as the user types to autocomplete\n * @param {Number} [options.flightDuration=1.5] The duration of the camera flight to an entered location, in seconds.\n * @param {Geocoder~DestinationFoundFunction} [options.destinationFound=GeocoderViewModel.flyToDestination] A callback function that is called after a successful geocode.  If not supplied, the default behavior is to fly the camera to the result destination.\n */\n\nfunction Geocoder(options) {\n  //>>includeStart('debug', pragmas.debug);\n  if (!defined(options) || !defined(options.container)) {\n    throw new DeveloperError(\"options.container is required.\");\n  }\n\n  if (!defined(options.scene)) {\n    throw new DeveloperError(\"options.scene is required.\");\n  } //>>includeEnd('debug');\n\n\n  var container = getElement(options.container);\n  var viewModel = new GeocoderViewModel(options);\n  viewModel._startSearchPath = startSearchPath;\n  viewModel._stopSearchPath = stopSearchPath;\n  var form = document.createElement(\"form\");\n  form.setAttribute(\"data-bind\", \"submit: search\");\n  var textBox = document.createElement(\"input\");\n  textBox.type = \"search\";\n  textBox.className = \"cesium-geocoder-input\";\n  textBox.setAttribute(\"placeholder\", \"Enter an address or landmark...\");\n  textBox.setAttribute(\"data-bind\", '\\\ntextInput: searchText,\\\ndisable: isSearchInProgress,\\\nevent: { keyup: handleKeyUp, keydown: handleKeyDown, mouseover: deselectSuggestion },\\\ncss: { \"cesium-geocoder-input-wide\" : keepExpanded || searchText.length > 0 },\\\nhasFocus: _focusTextbox');\n\n  this._onTextBoxFocus = function () {\n    // as of 2016-10-19, setTimeout is required to ensure that the\n    // text is focused on Safari 10\n    setTimeout(function () {\n      textBox.select();\n    }, 0);\n  };\n\n  textBox.addEventListener(\"focus\", this._onTextBoxFocus, false);\n  form.appendChild(textBox);\n  this._textBox = textBox;\n  var searchButton = document.createElement(\"span\");\n  searchButton.className = \"cesium-geocoder-searchButton\";\n  searchButton.setAttribute(\"data-bind\", \"\\\nclick: search,\\\ncesiumSvgPath: { path: isSearchInProgress ? _stopSearchPath : _startSearchPath, width: 32, height: 32 }\");\n  form.appendChild(searchButton);\n  container.appendChild(form);\n  var searchSuggestionsContainer = document.createElement(\"div\");\n  searchSuggestionsContainer.className = \"search-results\";\n  searchSuggestionsContainer.setAttribute(\"data-bind\", \"visible: _suggestionsVisible\");\n  var suggestionsList = document.createElement(\"ul\");\n  suggestionsList.setAttribute(\"data-bind\", \"foreach: _suggestions\");\n  var suggestions = document.createElement(\"li\");\n  suggestionsList.appendChild(suggestions);\n  suggestions.setAttribute(\"data-bind\", \"text: $data.displayName, \\\nclick: $parent.activateSuggestion, \\\nevent: { mouseover: $parent.handleMouseover}, \\\ncss: { active: $data === $parent._selectedSuggestion }\");\n  searchSuggestionsContainer.appendChild(suggestionsList);\n  container.appendChild(searchSuggestionsContainer);\n  knockout.applyBindings(viewModel, form);\n  knockout.applyBindings(viewModel, searchSuggestionsContainer);\n  this._container = container;\n  this._searchSuggestionsContainer = searchSuggestionsContainer;\n  this._viewModel = viewModel;\n  this._form = form;\n\n  this._onInputBegin = function (e) {\n    // e.target will not be correct if we are inside of the Shadow DOM\n    // and contains will always fail. To retrieve the correct target,\n    // we need to access the first element of the composedPath.\n    // This allows us to use shadow DOM if it exists and fall\n    // back to legacy behavior if its not being used.\n    var target = e.target;\n\n    if (typeof e.composedPath === \"function\") {\n      target = e.composedPath()[0];\n    }\n\n    if (!container.contains(target)) {\n      viewModel._focusTextbox = false;\n      viewModel.hideSuggestions();\n    }\n  };\n\n  this._onInputEnd = function (e) {\n    viewModel._focusTextbox = true;\n    viewModel.showSuggestions();\n  }; //We subscribe to both begin and end events in order to give the text box\n  //focus no matter where on the widget is clicked.\n\n\n  if (FeatureDetection.supportsPointerEvents()) {\n    document.addEventListener(\"pointerdown\", this._onInputBegin, true);\n    container.addEventListener(\"pointerup\", this._onInputEnd, true);\n    container.addEventListener(\"pointercancel\", this._onInputEnd, true);\n  } else {\n    document.addEventListener(\"mousedown\", this._onInputBegin, true);\n    container.addEventListener(\"mouseup\", this._onInputEnd, true);\n    document.addEventListener(\"touchstart\", this._onInputBegin, true);\n    container.addEventListener(\"touchend\", this._onInputEnd, true);\n    container.addEventListener(\"touchcancel\", this._onInputEnd, true);\n  }\n}\n\nObject.defineProperties(Geocoder.prototype, {\n  /**\n   * Gets the parent container.\n   * @memberof Geocoder.prototype\n   *\n   * @type {Element}\n   */\n  container: {\n    get: function () {\n      return this._container;\n    }\n  },\n\n  /**\n   * Gets the parent container.\n   * @memberof Geocoder.prototype\n   *\n   * @type {Element}\n   */\n  searchSuggestionsContainer: {\n    get: function () {\n      return this._searchSuggestionsContainer;\n    }\n  },\n\n  /**\n   * Gets the view model.\n   * @memberof Geocoder.prototype\n   *\n   * @type {GeocoderViewModel}\n   */\n  viewModel: {\n    get: function () {\n      return this._viewModel;\n    }\n  }\n});\n/**\n * @returns {Boolean} true if the object has been destroyed, false otherwise.\n */\n\nGeocoder.prototype.isDestroyed = function () {\n  return false;\n};\n/**\n * Destroys the widget.  Should be called if permanently\n * removing the widget from layout.\n */\n\n\nGeocoder.prototype.destroy = function () {\n  var container = this._container;\n\n  if (FeatureDetection.supportsPointerEvents()) {\n    document.removeEventListener(\"pointerdown\", this._onInputBegin, true);\n    container.removeEventListener(\"pointerup\", this._onInputEnd, true);\n  } else {\n    document.removeEventListener(\"mousedown\", this._onInputBegin, true);\n    container.removeEventListener(\"mouseup\", this._onInputEnd, true);\n    document.removeEventListener(\"touchstart\", this._onInputBegin, true);\n    container.removeEventListener(\"touchend\", this._onInputEnd, true);\n  }\n\n  this._viewModel.destroy();\n\n  knockout.cleanNode(this._form);\n  knockout.cleanNode(this._searchSuggestionsContainer);\n  container.removeChild(this._form);\n  container.removeChild(this._searchSuggestionsContainer);\n\n  this._textBox.removeEventListener(\"focus\", this._onTextBoxFocus, false);\n\n  return destroyObject(this);\n};\n/**\n * A function that handles the result of a successful geocode.\n * @callback Geocoder~DestinationFoundFunction\n * @param {GeocoderViewModel} viewModel The view model.\n * @param {Cartesian3|Rectangle} destination The destination result of the geocode.\n */\n\n\nexport default Geocoder;","map":{"version":3,"sources":["C:/Users/passa/Desktop/WaterLevelReact/node_modules/cesium/Source/Widgets/Geocoder/Geocoder.js"],"names":["defined","destroyObject","DeveloperError","FeatureDetection","knockout","getElement","GeocoderViewModel","startSearchPath","stopSearchPath","Geocoder","options","container","scene","viewModel","_startSearchPath","_stopSearchPath","form","document","createElement","setAttribute","textBox","type","className","_onTextBoxFocus","setTimeout","select","addEventListener","appendChild","_textBox","searchButton","searchSuggestionsContainer","suggestionsList","suggestions","applyBindings","_container","_searchSuggestionsContainer","_viewModel","_form","_onInputBegin","e","target","composedPath","contains","_focusTextbox","hideSuggestions","_onInputEnd","showSuggestions","supportsPointerEvents","Object","defineProperties","prototype","get","isDestroyed","destroy","removeEventListener","cleanNode","removeChild"],"mappings":"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","sourcesContent":["import defined from \"../../Core/defined.js\";\nimport destroyObject from \"../../Core/destroyObject.js\";\nimport DeveloperError from \"../../Core/DeveloperError.js\";\nimport FeatureDetection from \"../../Core/FeatureDetection.js\";\nimport knockout from \"../../ThirdParty/knockout.js\";\nimport getElement from \"../getElement.js\";\nimport GeocoderViewModel from \"./GeocoderViewModel.js\";\n\nvar startSearchPath =\n  \"M29.772,26.433l-7.126-7.126c0.96-1.583,1.523-3.435,1.524-5.421C24.169,8.093,19.478,3.401,13.688,3.399C7.897,3.401,3.204,8.093,3.204,13.885c0,5.789,4.693,10.481,10.484,10.481c1.987,0,3.839-0.563,5.422-1.523l7.128,7.127L29.772,26.433zM7.203,13.885c0.006-3.582,2.903-6.478,6.484-6.486c3.579,0.008,6.478,2.904,6.484,6.486c-0.007,3.58-2.905,6.476-6.484,6.484C10.106,20.361,7.209,17.465,7.203,13.885z\";\nvar stopSearchPath =\n  \"M24.778,21.419 19.276,15.917 24.777,10.415 21.949,7.585 16.447,13.087 10.945,7.585 8.117,10.415 13.618,15.917 8.116,21.419 10.946,24.248 16.447,18.746 21.948,24.248z\";\n\n/**\n * A widget for finding addresses and landmarks, and flying the camera to them.  Geocoding is\n * performed using {@link https://cesium.com/cesium-ion/|Cesium ion}.\n *\n * @alias Geocoder\n * @constructor\n *\n * @param {Object} options Object with the following properties:\n * @param {Element|String} options.container The DOM element or ID that will contain the widget.\n * @param {Scene} options.scene The Scene instance to use.\n * @param {GeocoderService[]} [options.geocoderServices] The geocoder services to be used\n * @param {Boolean} [options.autoComplete = true] True if the geocoder should query as the user types to autocomplete\n * @param {Number} [options.flightDuration=1.5] The duration of the camera flight to an entered location, in seconds.\n * @param {Geocoder~DestinationFoundFunction} [options.destinationFound=GeocoderViewModel.flyToDestination] A callback function that is called after a successful geocode.  If not supplied, the default behavior is to fly the camera to the result destination.\n */\nfunction Geocoder(options) {\n  //>>includeStart('debug', pragmas.debug);\n  if (!defined(options) || !defined(options.container)) {\n    throw new DeveloperError(\"options.container is required.\");\n  }\n  if (!defined(options.scene)) {\n    throw new DeveloperError(\"options.scene is required.\");\n  }\n  //>>includeEnd('debug');\n\n  var container = getElement(options.container);\n  var viewModel = new GeocoderViewModel(options);\n\n  viewModel._startSearchPath = startSearchPath;\n  viewModel._stopSearchPath = stopSearchPath;\n\n  var form = document.createElement(\"form\");\n  form.setAttribute(\"data-bind\", \"submit: search\");\n\n  var textBox = document.createElement(\"input\");\n  textBox.type = \"search\";\n  textBox.className = \"cesium-geocoder-input\";\n  textBox.setAttribute(\"placeholder\", \"Enter an address or landmark...\");\n  textBox.setAttribute(\n    \"data-bind\",\n    '\\\ntextInput: searchText,\\\ndisable: isSearchInProgress,\\\nevent: { keyup: handleKeyUp, keydown: handleKeyDown, mouseover: deselectSuggestion },\\\ncss: { \"cesium-geocoder-input-wide\" : keepExpanded || searchText.length > 0 },\\\nhasFocus: _focusTextbox'\n  );\n\n  this._onTextBoxFocus = function () {\n    // as of 2016-10-19, setTimeout is required to ensure that the\n    // text is focused on Safari 10\n    setTimeout(function () {\n      textBox.select();\n    }, 0);\n  };\n\n  textBox.addEventListener(\"focus\", this._onTextBoxFocus, false);\n  form.appendChild(textBox);\n  this._textBox = textBox;\n\n  var searchButton = document.createElement(\"span\");\n  searchButton.className = \"cesium-geocoder-searchButton\";\n  searchButton.setAttribute(\n    \"data-bind\",\n    \"\\\nclick: search,\\\ncesiumSvgPath: { path: isSearchInProgress ? _stopSearchPath : _startSearchPath, width: 32, height: 32 }\"\n  );\n  form.appendChild(searchButton);\n\n  container.appendChild(form);\n\n  var searchSuggestionsContainer = document.createElement(\"div\");\n  searchSuggestionsContainer.className = \"search-results\";\n  searchSuggestionsContainer.setAttribute(\n    \"data-bind\",\n    \"visible: _suggestionsVisible\"\n  );\n\n  var suggestionsList = document.createElement(\"ul\");\n  suggestionsList.setAttribute(\"data-bind\", \"foreach: _suggestions\");\n  var suggestions = document.createElement(\"li\");\n  suggestionsList.appendChild(suggestions);\n  suggestions.setAttribute(\n    \"data-bind\",\n    \"text: $data.displayName, \\\nclick: $parent.activateSuggestion, \\\nevent: { mouseover: $parent.handleMouseover}, \\\ncss: { active: $data === $parent._selectedSuggestion }\"\n  );\n\n  searchSuggestionsContainer.appendChild(suggestionsList);\n  container.appendChild(searchSuggestionsContainer);\n\n  knockout.applyBindings(viewModel, form);\n  knockout.applyBindings(viewModel, searchSuggestionsContainer);\n\n  this._container = container;\n  this._searchSuggestionsContainer = searchSuggestionsContainer;\n  this._viewModel = viewModel;\n  this._form = form;\n\n  this._onInputBegin = function (e) {\n    // e.target will not be correct if we are inside of the Shadow DOM\n    // and contains will always fail. To retrieve the correct target,\n    // we need to access the first element of the composedPath.\n    // This allows us to use shadow DOM if it exists and fall\n    // back to legacy behavior if its not being used.\n\n    var target = e.target;\n    if (typeof e.composedPath === \"function\") {\n      target = e.composedPath()[0];\n    }\n\n    if (!container.contains(target)) {\n      viewModel._focusTextbox = false;\n      viewModel.hideSuggestions();\n    }\n  };\n\n  this._onInputEnd = function (e) {\n    viewModel._focusTextbox = true;\n    viewModel.showSuggestions();\n  };\n\n  //We subscribe to both begin and end events in order to give the text box\n  //focus no matter where on the widget is clicked.\n\n  if (FeatureDetection.supportsPointerEvents()) {\n    document.addEventListener(\"pointerdown\", this._onInputBegin, true);\n    container.addEventListener(\"pointerup\", this._onInputEnd, true);\n    container.addEventListener(\"pointercancel\", this._onInputEnd, true);\n  } else {\n    document.addEventListener(\"mousedown\", this._onInputBegin, true);\n    container.addEventListener(\"mouseup\", this._onInputEnd, true);\n    document.addEventListener(\"touchstart\", this._onInputBegin, true);\n    container.addEventListener(\"touchend\", this._onInputEnd, true);\n    container.addEventListener(\"touchcancel\", this._onInputEnd, true);\n  }\n}\n\nObject.defineProperties(Geocoder.prototype, {\n  /**\n   * Gets the parent container.\n   * @memberof Geocoder.prototype\n   *\n   * @type {Element}\n   */\n  container: {\n    get: function () {\n      return this._container;\n    },\n  },\n\n  /**\n   * Gets the parent container.\n   * @memberof Geocoder.prototype\n   *\n   * @type {Element}\n   */\n  searchSuggestionsContainer: {\n    get: function () {\n      return this._searchSuggestionsContainer;\n    },\n  },\n\n  /**\n   * Gets the view model.\n   * @memberof Geocoder.prototype\n   *\n   * @type {GeocoderViewModel}\n   */\n  viewModel: {\n    get: function () {\n      return this._viewModel;\n    },\n  },\n});\n\n/**\n * @returns {Boolean} true if the object has been destroyed, false otherwise.\n */\nGeocoder.prototype.isDestroyed = function () {\n  return false;\n};\n\n/**\n * Destroys the widget.  Should be called if permanently\n * removing the widget from layout.\n */\nGeocoder.prototype.destroy = function () {\n  var container = this._container;\n  if (FeatureDetection.supportsPointerEvents()) {\n    document.removeEventListener(\"pointerdown\", this._onInputBegin, true);\n    container.removeEventListener(\"pointerup\", this._onInputEnd, true);\n  } else {\n    document.removeEventListener(\"mousedown\", this._onInputBegin, true);\n    container.removeEventListener(\"mouseup\", this._onInputEnd, true);\n    document.removeEventListener(\"touchstart\", this._onInputBegin, true);\n    container.removeEventListener(\"touchend\", this._onInputEnd, true);\n  }\n  this._viewModel.destroy();\n  knockout.cleanNode(this._form);\n  knockout.cleanNode(this._searchSuggestionsContainer);\n  container.removeChild(this._form);\n  container.removeChild(this._searchSuggestionsContainer);\n  this._textBox.removeEventListener(\"focus\", this._onTextBoxFocus, false);\n\n  return destroyObject(this);\n};\n\n/**\n * A function that handles the result of a successful geocode.\n * @callback Geocoder~DestinationFoundFunction\n * @param {GeocoderViewModel} viewModel The view model.\n * @param {Cartesian3|Rectangle} destination The destination result of the geocode.\n */\nexport default Geocoder;\n"]},"metadata":{},"sourceType":"module"}