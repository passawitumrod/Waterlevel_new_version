{"ast":null,"code":"import defined from \"../Core/defined.js\";\nimport CallbackProperty from \"./CallbackProperty.js\";\nimport GeometryUpdater from \"./GeometryUpdater.js\";\nimport TerrainOffsetProperty from \"./TerrainOffsetProperty.js\";\n\nfunction heightReferenceOnEntityPropertyChanged(entity, propertyName, newValue, oldValue) {\n  GeometryUpdater.prototype._onEntityPropertyChanged.call(this, entity, propertyName, newValue, oldValue);\n\n  if (this._observedPropertyNames.indexOf(propertyName) === -1) {\n    return;\n  }\n\n  var geometry = this._entity[this._geometryPropertyName];\n\n  if (!defined(geometry)) {\n    return;\n  }\n\n  if (defined(this._terrainOffsetProperty)) {\n    this._terrainOffsetProperty.destroy();\n\n    this._terrainOffsetProperty = undefined;\n  }\n\n  var heightReferenceProperty = geometry.heightReference;\n\n  if (defined(heightReferenceProperty)) {\n    var centerPosition = new CallbackProperty(this._computeCenter.bind(this), !this._dynamic);\n    this._terrainOffsetProperty = new TerrainOffsetProperty(this._scene, centerPosition, heightReferenceProperty);\n  }\n}\n\nexport default heightReferenceOnEntityPropertyChanged;","map":{"version":3,"sources":["C:/Users/passa/Desktop/WaterLevelReact/node_modules/cesium/Source/DataSources/heightReferenceOnEntityPropertyChanged.js"],"names":["defined","CallbackProperty","GeometryUpdater","TerrainOffsetProperty","heightReferenceOnEntityPropertyChanged","entity","propertyName","newValue","oldValue","prototype","_onEntityPropertyChanged","call","_observedPropertyNames","indexOf","geometry","_entity","_geometryPropertyName","_terrainOffsetProperty","destroy","undefined","heightReferenceProperty","heightReference","centerPosition","_computeCenter","bind","_dynamic","_scene"],"mappings":"AAAA,OAAOA,OAAP,MAAoB,oBAApB;AACA,OAAOC,gBAAP,MAA6B,uBAA7B;AACA,OAAOC,eAAP,MAA4B,sBAA5B;AACA,OAAOC,qBAAP,MAAkC,4BAAlC;;AAEA,SAASC,sCAAT,CACEC,MADF,EAEEC,YAFF,EAGEC,QAHF,EAIEC,QAJF,EAKE;AACAN,EAAAA,eAAe,CAACO,SAAhB,CAA0BC,wBAA1B,CAAmDC,IAAnD,CACE,IADF,EAEEN,MAFF,EAGEC,YAHF,EAIEC,QAJF,EAKEC,QALF;;AAOA,MAAI,KAAKI,sBAAL,CAA4BC,OAA5B,CAAoCP,YAApC,MAAsD,CAAC,CAA3D,EAA8D;AAC5D;AACD;;AAED,MAAIQ,QAAQ,GAAG,KAAKC,OAAL,CAAa,KAAKC,qBAAlB,CAAf;;AACA,MAAI,CAAChB,OAAO,CAACc,QAAD,CAAZ,EAAwB;AACtB;AACD;;AAED,MAAId,OAAO,CAAC,KAAKiB,sBAAN,CAAX,EAA0C;AACxC,SAAKA,sBAAL,CAA4BC,OAA5B;;AACA,SAAKD,sBAAL,GAA8BE,SAA9B;AACD;;AAED,MAAIC,uBAAuB,GAAGN,QAAQ,CAACO,eAAvC;;AAEA,MAAIrB,OAAO,CAACoB,uBAAD,CAAX,EAAsC;AACpC,QAAIE,cAAc,GAAG,IAAIrB,gBAAJ,CACnB,KAAKsB,cAAL,CAAoBC,IAApB,CAAyB,IAAzB,CADmB,EAEnB,CAAC,KAAKC,QAFa,CAArB;AAIA,SAAKR,sBAAL,GAA8B,IAAId,qBAAJ,CAC5B,KAAKuB,MADuB,EAE5BJ,cAF4B,EAG5BF,uBAH4B,CAA9B;AAKD;AACF;;AACD,eAAehB,sCAAf","sourcesContent":["import defined from \"../Core/defined.js\";\nimport CallbackProperty from \"./CallbackProperty.js\";\nimport GeometryUpdater from \"./GeometryUpdater.js\";\nimport TerrainOffsetProperty from \"./TerrainOffsetProperty.js\";\n\nfunction heightReferenceOnEntityPropertyChanged(\n  entity,\n  propertyName,\n  newValue,\n  oldValue\n) {\n  GeometryUpdater.prototype._onEntityPropertyChanged.call(\n    this,\n    entity,\n    propertyName,\n    newValue,\n    oldValue\n  );\n  if (this._observedPropertyNames.indexOf(propertyName) === -1) {\n    return;\n  }\n\n  var geometry = this._entity[this._geometryPropertyName];\n  if (!defined(geometry)) {\n    return;\n  }\n\n  if (defined(this._terrainOffsetProperty)) {\n    this._terrainOffsetProperty.destroy();\n    this._terrainOffsetProperty = undefined;\n  }\n\n  var heightReferenceProperty = geometry.heightReference;\n\n  if (defined(heightReferenceProperty)) {\n    var centerPosition = new CallbackProperty(\n      this._computeCenter.bind(this),\n      !this._dynamic\n    );\n    this._terrainOffsetProperty = new TerrainOffsetProperty(\n      this._scene,\n      centerPosition,\n      heightReferenceProperty\n    );\n  }\n}\nexport default heightReferenceOnEntityPropertyChanged;\n"]},"metadata":{},"sourceType":"module"}