{"ast":null,"code":"import Queue from \"../Core/Queue.js\";\n/**\n * @private\n */\n\nfunction ModelLoadResources() {\n  this.initialized = false;\n  this.resourcesParsed = false;\n  this.vertexBuffersToCreate = new Queue();\n  this.indexBuffersToCreate = new Queue();\n  this.buffers = {};\n  this.pendingBufferLoads = 0;\n  this.programsToCreate = new Queue();\n  this.shaders = {};\n  this.pendingShaderLoads = 0;\n  this.texturesToCreate = new Queue();\n  this.pendingTextureLoads = 0;\n  this.texturesToCreateFromBufferView = new Queue();\n  this.pendingBufferViewToImage = 0;\n  this.createSamplers = true;\n  this.createSkins = true;\n  this.createRuntimeAnimations = true;\n  this.createVertexArrays = true;\n  this.createRenderStates = true;\n  this.createUniformMaps = true;\n  this.createRuntimeNodes = true;\n  this.createdBufferViews = {};\n  this.primitivesToDecode = new Queue();\n  this.activeDecodingTasks = 0;\n  this.pendingDecodingCache = false;\n  this.skinnedNodesIds = [];\n}\n/**\n * This function differs from the normal subarray function\n * because it takes offset and length, rather than begin and end.\n * @private\n */\n\n\nfunction getSubarray(array, offset, length) {\n  return array.subarray(offset, offset + length);\n}\n\nModelLoadResources.prototype.getBuffer = function (bufferView) {\n  return getSubarray(this.buffers[bufferView.buffer], bufferView.byteOffset, bufferView.byteLength);\n};\n\nModelLoadResources.prototype.finishedPendingBufferLoads = function () {\n  return this.pendingBufferLoads === 0;\n};\n\nModelLoadResources.prototype.finishedBuffersCreation = function () {\n  return this.pendingBufferLoads === 0 && this.vertexBuffersToCreate.length === 0 && this.indexBuffersToCreate.length === 0;\n};\n\nModelLoadResources.prototype.finishedProgramCreation = function () {\n  return this.pendingShaderLoads === 0 && this.programsToCreate.length === 0;\n};\n\nModelLoadResources.prototype.finishedTextureCreation = function () {\n  var finishedPendingLoads = this.pendingTextureLoads === 0;\n  var finishedResourceCreation = this.texturesToCreate.length === 0 && this.texturesToCreateFromBufferView.length === 0;\n  return finishedPendingLoads && finishedResourceCreation;\n};\n\nModelLoadResources.prototype.finishedEverythingButTextureCreation = function () {\n  var finishedPendingLoads = this.pendingBufferLoads === 0 && this.pendingShaderLoads === 0;\n  var finishedResourceCreation = this.vertexBuffersToCreate.length === 0 && this.indexBuffersToCreate.length === 0 && this.programsToCreate.length === 0 && this.pendingBufferViewToImage === 0;\n  return this.finishedDecoding() && finishedPendingLoads && finishedResourceCreation;\n};\n\nModelLoadResources.prototype.finishedDecoding = function () {\n  return this.primitivesToDecode.length === 0 && this.activeDecodingTasks === 0 && !this.pendingDecodingCache;\n};\n\nModelLoadResources.prototype.finished = function () {\n  return this.finishedDecoding() && this.finishedTextureCreation() && this.finishedEverythingButTextureCreation();\n};\n\nexport default ModelLoadResources;","map":{"version":3,"sources":["C:/Users/passa/Desktop/WaterLevelReact/node_modules/cesium/Source/Scene/ModelLoadResources.js"],"names":["Queue","ModelLoadResources","initialized","resourcesParsed","vertexBuffersToCreate","indexBuffersToCreate","buffers","pendingBufferLoads","programsToCreate","shaders","pendingShaderLoads","texturesToCreate","pendingTextureLoads","texturesToCreateFromBufferView","pendingBufferViewToImage","createSamplers","createSkins","createRuntimeAnimations","createVertexArrays","createRenderStates","createUniformMaps","createRuntimeNodes","createdBufferViews","primitivesToDecode","activeDecodingTasks","pendingDecodingCache","skinnedNodesIds","getSubarray","array","offset","length","subarray","prototype","getBuffer","bufferView","buffer","byteOffset","byteLength","finishedPendingBufferLoads","finishedBuffersCreation","finishedProgramCreation","finishedTextureCreation","finishedPendingLoads","finishedResourceCreation","finishedEverythingButTextureCreation","finishedDecoding","finished"],"mappings":"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","sourcesContent":["import Queue from \"../Core/Queue.js\";\n\n/**\n * @private\n */\nfunction ModelLoadResources() {\n  this.initialized = false;\n  this.resourcesParsed = false;\n\n  this.vertexBuffersToCreate = new Queue();\n  this.indexBuffersToCreate = new Queue();\n  this.buffers = {};\n  this.pendingBufferLoads = 0;\n\n  this.programsToCreate = new Queue();\n  this.shaders = {};\n  this.pendingShaderLoads = 0;\n\n  this.texturesToCreate = new Queue();\n  this.pendingTextureLoads = 0;\n\n  this.texturesToCreateFromBufferView = new Queue();\n  this.pendingBufferViewToImage = 0;\n\n  this.createSamplers = true;\n  this.createSkins = true;\n  this.createRuntimeAnimations = true;\n  this.createVertexArrays = true;\n  this.createRenderStates = true;\n  this.createUniformMaps = true;\n  this.createRuntimeNodes = true;\n\n  this.createdBufferViews = {};\n  this.primitivesToDecode = new Queue();\n  this.activeDecodingTasks = 0;\n  this.pendingDecodingCache = false;\n\n  this.skinnedNodesIds = [];\n}\n\n/**\n * This function differs from the normal subarray function\n * because it takes offset and length, rather than begin and end.\n * @private\n */\nfunction getSubarray(array, offset, length) {\n  return array.subarray(offset, offset + length);\n}\n\nModelLoadResources.prototype.getBuffer = function (bufferView) {\n  return getSubarray(\n    this.buffers[bufferView.buffer],\n    bufferView.byteOffset,\n    bufferView.byteLength\n  );\n};\n\nModelLoadResources.prototype.finishedPendingBufferLoads = function () {\n  return this.pendingBufferLoads === 0;\n};\n\nModelLoadResources.prototype.finishedBuffersCreation = function () {\n  return (\n    this.pendingBufferLoads === 0 &&\n    this.vertexBuffersToCreate.length === 0 &&\n    this.indexBuffersToCreate.length === 0\n  );\n};\n\nModelLoadResources.prototype.finishedProgramCreation = function () {\n  return this.pendingShaderLoads === 0 && this.programsToCreate.length === 0;\n};\n\nModelLoadResources.prototype.finishedTextureCreation = function () {\n  var finishedPendingLoads = this.pendingTextureLoads === 0;\n  var finishedResourceCreation =\n    this.texturesToCreate.length === 0 &&\n    this.texturesToCreateFromBufferView.length === 0;\n\n  return finishedPendingLoads && finishedResourceCreation;\n};\n\nModelLoadResources.prototype.finishedEverythingButTextureCreation = function () {\n  var finishedPendingLoads =\n    this.pendingBufferLoads === 0 && this.pendingShaderLoads === 0;\n  var finishedResourceCreation =\n    this.vertexBuffersToCreate.length === 0 &&\n    this.indexBuffersToCreate.length === 0 &&\n    this.programsToCreate.length === 0 &&\n    this.pendingBufferViewToImage === 0;\n\n  return (\n    this.finishedDecoding() && finishedPendingLoads && finishedResourceCreation\n  );\n};\n\nModelLoadResources.prototype.finishedDecoding = function () {\n  return (\n    this.primitivesToDecode.length === 0 &&\n    this.activeDecodingTasks === 0 &&\n    !this.pendingDecodingCache\n  );\n};\n\nModelLoadResources.prototype.finished = function () {\n  return (\n    this.finishedDecoding() &&\n    this.finishedTextureCreation() &&\n    this.finishedEverythingButTextureCreation()\n  );\n};\nexport default ModelLoadResources;\n"]},"metadata":{},"sourceType":"module"}